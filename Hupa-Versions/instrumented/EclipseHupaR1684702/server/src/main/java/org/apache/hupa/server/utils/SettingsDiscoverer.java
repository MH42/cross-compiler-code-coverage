package org.apache.hupa.server.utils;


import tc3.desktop.InstrumentationLoggerProvider;
import java.net.InetAddress;
import java.net.InetSocketAddress;
import java.net.Socket;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Comparator;
import java.util.HashMap;
import java.util.List;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;
import java.util.concurrent.TimeUnit;

import javax.naming.NamingException;
import javax.naming.directory.Attribute;
import javax.naming.directory.Attributes;
import javax.naming.directory.InitialDirContext;

import org.apache.commons.lang.ArrayUtils;
import org.apache.hupa.shared.data.SettingsImpl;
import org.apache.hupa.shared.domain.Settings;
import org.apache.hupa.shared.domain.User;

import com.google.inject.Inject;
import com.google.inject.Provider;

public class SettingsDiscoverer {

    static {
	  InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x20x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x30x00x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x30x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x30x00x00x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b8_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x20x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x30x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c40b9b1b80x2");
	}
	

	public SettingsDiscoverer(){
	  InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c0x0");
	  InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c248de9be_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c248de9be0x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c248de9be0x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c248de9be0x10x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c248de9be0x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c248de9be0x1");
	}
	

	private static HashMap<String, Settings> validConfigs = new HashMap<String, Settings>();

    @Inject private Provider<Settings> settingsProvider;

    public Settings discoverSettings(String email) {

        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf5291_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x1");
		InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x0");
		if (!email.matches("^(.*<)?[A-Za-z0-9._%'*/=+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}(>)?\\s*$")) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x00x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x00x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x00x10x00x0");
			return new SettingsImpl();
        }

        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x10x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x10x10x0");
		String domain = email.replaceFirst("^.*@", "");

        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x20x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x20x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x20x0");
		Settings s = validConfigs.get(domain);
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x3");
		if (s != null) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x30x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x30x10x0");
			return s;
        }

        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x40x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x40x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x4_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x40x00x0");
		String [] mxHosts = null;
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x5_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x0");
		try {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x00x00x0");
			mxHosts = lookupMailHosts(domain);
        } catch (Exception e) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x10x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x10x10x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x10x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x10x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x10x10x00x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x50x10x10x00x0");
			mxHosts = new String[0];
        }

        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x60x00x0");
		if(!(settingsProvider != null))InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x60x00x00x2");
		if(settingsProvider != null)InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x60x00x00x1");
		s = settingsProvider != null ? settingsProvider.get() : new SettingsImpl();

        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x7");
		if (email.matches(".*@gmail.com") || isValidMx(".*google.*.com", mxHosts)) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x00x0");
			s.setImapServer("imap.gmail.com");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x1");
			s.setImapPort(993);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x2");
			s.setImapSecure(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x30x0");
			s.setSmtpServer("smtp.gmail.com");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x4_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x40x0");
			s.setSmtpPort(587); //465
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x5_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x50x0");
			s.setSmtpSecure(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x60x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x6");
			s.setSmtpAuth(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x7_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x70x0");
			s.setInboxFolderName("INBOX");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x80x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x8");
			s.setSentFolderName("[Gmail]/Sent");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x90x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10x9");
			s.setTrashFolderName("[Gmail]/Trash");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10xa0x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x10xa");
			s.setDraftsFolderName("[Gmail]/Drafts");
        } else if (email.matches(".*@(yahoo|ymail)\\....?") || isValidMx(".*google.*\\....?", mxHosts)) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x2");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x00x0");
			s.setImapServer("imap.mail.yahoo.com");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x1");
			s.setImapPort(993);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x20x0");
			s.setImapSecure(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x3");
			s.setSmtpServer("smtp.mail.yahoo.com");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x40x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x4");
			s.setSmtpPort(465);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x5_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x50x0");
			s.setSmtpSecure(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x60x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x6");
			s.setSmtpAuth(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x7_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x70x0");
			s.setInboxFolderName("INBOX");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x80x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x8");
			s.setSentFolderName("Sent");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x90x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10x9");
			s.setTrashFolderName("Trash");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10xa_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x10xa0x0");
			s.setDraftsFolderName("Templates");
        } else if (email.matches(".*@(hotmail|outlook|live).com")) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x2");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x2");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x0");
			s.setImapServer("imap-mail.outlook.com");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x1");
			s.setImapPort(993);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x2");
			s.setImapSecure(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x30x0");
			s.setSmtpServer("smtp-mail.outlook.com");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x4_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x40x0");
			s.setSmtpPort(587);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x50x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x5");
			s.setSmtpSecure(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x6_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x60x0");
			s.setSmtpAuth(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x7_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x70x0");
			s.setInboxFolderName("INBOX");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x8_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x80x0");
			s.setSentFolderName("Sent");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x9_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10x90x0");
			s.setTrashFolderName("Trash");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10xa0x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x10xa");
			s.setDraftsFolderName("Templates");
        } else {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x2");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x2");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x2");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x4_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x00x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x2");
			String[] hostNames = new String[]{"imap." + domain, "smtp." + domain, "www." + domain, "mail." + domain, domain};
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x10x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x10x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x10x10x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x10x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x10x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x10x00x0");
			String[] hosts = (String[])ArrayUtils.addAll(hostNames, mxHosts);

            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x20x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x20x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x20x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x20x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x20x00x0");
			Integer[] imapPorts = new Integer[]{993, 585, 143};
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x30x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x30x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x30x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x30x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x30x00x0");
			Integer[] smtpPorts = new Integer[]{465, 587, 25};
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x4_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x40x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x40x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x40x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x40x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x40x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x40x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x40x10x00x1");
			Integer[] ports = (Integer[])ArrayUtils.addAll(imapPorts, smtpPorts);

            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x50x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x50x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x50x20x00x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x5_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x50x20x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x50x20x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x50x10x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x50x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x50x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x50x20x0");
			final List<String> validPorts = new ArrayList<String>();
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x60x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x60x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x60x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x6");
			ExecutorService es = Executors.newCachedThreadPool();
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x7_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x00x1");
			for (final String h : hosts) {
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x1");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x0");
				if (isValidHostName(h)) {
                    InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x1");
					InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x00x0");
					for (final Integer p : ports) {
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x1");
						InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1");
						es.execute(new Runnable() {
                            public void run() {
                                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad190_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad1900x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad1900x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad1900x2");
								InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad1900x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad1900x20x00x0");
								if (isValidPort(h, p)) {
                                    InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad1900x20x00x1");
									InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad1900x20x00x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad1900x20x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x70x10x00x10x00x10x00x00x00x1df6ad1900x20x00x10x00x0");
									validPorts.add(h + ":" + p);
                                }
                            }
                        });
                    }
                }
            }

            try {
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x80x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x8");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x80x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x80x00x0");
				es.awaitTermination(1500, TimeUnit.MILLISECONDS);
            } catch (InterruptedException e) {
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x80x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x80x10x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x80x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x80x10x00x0");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x80x10x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x80x10x10x0");
				e.printStackTrace();
            }
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x9_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x90x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x90x00x0");
			System.out.println("ValidPorts: " + domain + " -> "+ validPorts);

            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xa_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xa0x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xa0x1");
			boolean imapdone = false;
            loop: for (final String h : hosts) {
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x0");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x1");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x0");
				for (final Integer p : imapPorts) {
                    InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x1");
					InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x00x0");
					if (validPorts.contains(h + ":" + p)) {
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x1");
						InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x0");
						s.setImapServer(h);
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x1");
						s.setImapPort(p);
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x20x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x20x0");
						s.setImapSecure(p != 143);
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x3");
						imapdone = true;
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xb0x00x10x00x10x00x10x4");
						break loop;
                    }
               }
            }
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xc0x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xc");
			if (!imapdone) {
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xc0x1");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xc0x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xc0x10x0");
				s.setImapServer("");
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xc0x10x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xc0x10x10x0");
				s.setImapPort(0);
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xc0x10x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xc0x10x20x0");
				s.setImapSecure(false);
            }

            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xd0x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xd_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xd0x0");
			boolean smtpdone = false;
            loop: for (final String h : hosts) {
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x1");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x0");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x0");
				for (final Integer p : smtpPorts) {
                    InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x1");
					InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x0");
					if (validPorts.contains(h + ":" + p)) {
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x1");
						InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x0");
						s.setSmtpServer(h);
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x1");
						s.setSmtpPort(p);
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x20x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x2");
						s.setSmtpSecure(p != 25);
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x3");
						smtpdone = true;
                        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xe0x00x10x00x10x00x10x4");
						break loop;
                    }
               }
            }
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xf_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xf0x0");
			if (!smtpdone) {
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xf0x1");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xf0x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xf0x10x0");
				s.setSmtpServer("");
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xf0x10x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xf0x10x10x0");
				s.setSmtpPort(0);
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xf0x10x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20xf0x10x20x0");
				s.setSmtpSecure(false);
            }

            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x100x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x10");
			s.setSmtpAuth(true);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x110x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x11");
			s.setInboxFolderName("INBOX");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x12_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x120x0");
			s.setSentFolderName("Sent");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x13_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x130x0");
			s.setTrashFolderName("Trash");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x14_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x140x0");
			s.setDraftsFolderName("Drafts");
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x150x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x150x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x70x20x20x20x15");
			System.out.println("Returning config: \n" + s);
        }
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c86bf52910x30x8");
		return s;
    }

    static boolean isValidMx(String regexp, String[] mailhosts) {
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x4_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x30x00x0");
		
		//		Block insertion:
		//
		InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x0");
		if (mailhosts != null) for (String h : mailhosts) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x10x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x10x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x10x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x10x10x00x0");
			if (h.toLowerCase().matches(regexp)) {
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x10x10x00x1");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x00x10x10x00x10x0");
				return true;
            }
        }
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c6ad983ce0x40x1");
		return false;
    }

    static boolean isValidHostName(String name) {
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e493_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x2");
		try {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x0");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x00x00x00x0");
			InetAddress.getByName(name);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x00x00x1");
			return true;
        } catch (Exception e) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x00x10x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5cc449e4930x30x00x10x10x0");
			return false;
        }
    }

    static boolean isValidPort(String hostname, int port) {
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x4_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x2");
		InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x0");
		try {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x00x1");
			Socket socket = new Socket();
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x1");
			socket.setSoTimeout(1500);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x20x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x20x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x20x0");
			socket.connect(new InetSocketAddress(hostname, port), 1500);
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x3");
			socket.close();
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x00x4");
			return true;
          } catch (Exception ex) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x10x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c7046012e0x40x00x10x10x0");
			return false;
          }
    }

    static String[] lookupMailHosts(String domainName) throws NamingException {
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d596_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x10x0");
		InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x00x10x00x0");
		InitialDirContext iDirC = new InitialDirContext();
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x10x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x10x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x10x1");
		Attributes attributes = iDirC.getAttributes("dns:/" + domainName,
                new String[] { "MX" });
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x20x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x20x10x0");
		Attribute attributeMX = attributes.get("MX");
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x30x0");
		if (attributeMX == null) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x30x1");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x30x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x30x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x30x10x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x30x10x00x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x30x10x00x00x0");
			return (new String[] { domainName });
        }

        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x40x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x40x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x40x10x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x40x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x40x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x40x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x4_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x40x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x40x10x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x40x1");
		// split MX RRs into Preference Values(pvhn[0]) and Host Names(pvhn[1])
        String[][] pvhn = new String[attributeMX.size()][2];
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x5_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x10x0");
		for (int i = 0; i < attributeMX.size(); i++) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x3");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x30x00x00x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x30x00x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x30x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x30x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x50x30x00x00x0");
			pvhn[i] = ("" + attributeMX.get(i)).split("\\s+");
        }

        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x6_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x00x10x0");
		// sort the MX RRs by RR value (lower is preferred)
        Arrays.sort(pvhn, new Comparator<String[]>() {
            public int compare(String[] o1, String[] o2) {
                InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x30x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x4_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x3_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb37_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x20x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x0");
				InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x40x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x40x00x00x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x40x00x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x40x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x60x00x00x1c624eb370x40x00x00x0");
				return (Integer.parseInt(o1[0]) - Integer.parseInt(o2[0]));
            }
        });

        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x70x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x70x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x7_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x70x10x00x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x70x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x70x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x70x10x0");
		// put sorted host names in an array, get rid of any trailing '.'
        String[] sortedHostNames = new String[pvhn.length];
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x8_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x80x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x80x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x80x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x80x00x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x80x0");
		for (int i = 0; i < pvhn.length; i++) {
            InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x80x3");
			InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x80x30x00x00x0");
			if(pvhn[i][1].endsWith("."))InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x80x30x00x00x00x1");
			sortedHostNames[i] = pvhn[i][1].endsWith(".") ? pvhn[i][1]
                    .substring(0, pvhn[i][1].length() - 1) : pvhn[i][1];
        }
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5ce493d5960x30x9");
		return sortedHostNames;
    }

    public void setValidSettings(User user) {
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x20x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x2_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x3");
		InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x30x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x30x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x30x00x10x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x30x00x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x30x00x1");
		String domain = user.getName().replaceFirst("^.*@", "");
        InstrumentationLoggerProvider.get().instrument("org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x30x1_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x30x10x00x0_____org_apache_hupa_server_utils_SettingsDiscoverer_java0x05a1fce5c8678f4dc0x30x10x0");
		validConfigs.put(domain, user.getSettings());
    }

}
